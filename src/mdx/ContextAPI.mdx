import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Context API" />

# AtomGridTable Context API

AtomGridTable provides a Context API for global configuration and customization of all tables in your application.

## Setting Up the Provider

Wrap your application (or a section of it) with the `AtomGridTableProvider`:

```jsx
import { AtomGridTableProvider } from '@sanbira/atom-grid-table';

function App() {
  return (
    <AtomGridTableProvider defaultTableOptions={{
      tableStyleOptions: {
        isZebra: true,
        colorScheme: 'light'
      }
    }}>
      <YourAppContent />
    </AtomGridTableProvider>
  );
}
```

## Default Table Options

You can set default options for all tables:

```jsx
<AtomGridTableProvider
  defaultTableOptions={{
    tableStyleOptions: {
      isZebra: true,
      isStickyHeader: true,
      colorScheme: 'light'
    },
    // Other default options
  }}
>
  {/* Your app content */}
</AtomGridTableProvider>
```

## Custom Components with Material-UI

You can replace the default components with Material-UI components:

```jsx
import { AtomGridTableProvider } from '@sanbira/atom-grid-table';
import { Tooltip, Checkbox, FormControl, Select, MenuItem, Typography, Skeleton, IconButton } from '@mui/material';

function App() {
  const customComponents = {
    // MUI Tooltip implementation
    tooltip: ({ title, children }) => (
      <Tooltip title={title}>
        {children}
      </Tooltip>
    ),
    
    // MUI Checkbox implementation
    checkbox: ({ checked, onClick, indeterminate, disabled }) => (
      <Checkbox
        checked={checked}
        onClick={(e) => onClick?.(e, !checked)}
        indeterminate={indeterminate}
        disabled={disabled}
      />
    ),
    
    // MUI Select implementation
    select: ({ options, ...props }) => (
      <FormControl size="small">
        <Select {...props}>
          {options.map(option => (
            <MenuItem key={option.value} value={option.value}>
              {option.label || option.value}
            </MenuItem>
          ))}
        </Select>
      </FormControl>
    ),
    
    // MUI Typography implementation
    typography: ({ variant, children, ...props }) => (
      <Typography variant={variant} {...props}>
        {children}
      </Typography>
    ),
    
    // MUI Skeleton implementation
    skeleton: () => (
      <Skeleton animation="wave" />
    ),
    
    // MUI IconButton implementation
    iconButton: ({ icon, ...props }) => (
      <IconButton size="small" {...props}>
        {icon}
      </IconButton>
    )
  };

  return (
    <AtomGridTableProvider customComponents={customComponents}>
      {/* Your app content */}
    </AtomGridTableProvider>
  );
}
```

## Component Customization Interface

The `customComponents` prop accepts the following interface:

```typescript
interface CustomComponents {
  tooltip?: React.ComponentType<TooltipProps>;
  select?: React.ComponentType<SelectProps>;
  iconButton?: React.ComponentType<IconButtonProps>;
  typography?: React.ComponentType<TypographyProps>;
  skeleton?: React.ComponentType;
  checkbox?: React.ComponentType<CheckboxProps>;
}
``` 